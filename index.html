<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Absensi Guru Piket - SMKN 1 ROBATAL</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>

<body>
<div class="container">

  <!-- HEADER -->
  <header>
    <img src="logo-smkn1-robatal.png" alt="Logo SMKN 1 Robatal">
    <div>
      <h1>ABSENSI GURU PIKET</h1>
      <h2>SMKN 1 ROBATAL</h2>
    </div>
  </header>

  <!-- IMPORT EXPORT -->
  <section class="form">
    <h3>Import / Export Data</h3>

    <label>Import Data Siswa (CSV)</label>
    <input type="file" id="fileSiswa" accept=".csv">
    <button onclick="importSiswa()">Import Data Siswa</button>

    <br><br>
    <button onclick="exportAbsensi()">Export Absensi (Excel)</button>
  </section>

  <hr>

  <!-- ABSENSI -->
  <section class="form">
    <h3>Input Absensi Harian</h3>

    <label>Tanggal</label>
    <input type="date" id="tanggal">

    <label>Petugas</label>
    <input type="text" id="petugas" placeholder="Nama Guru Piket">

    <label>Jurusan</label>
    <select id="jurusan">
      <option>RPL</option>
      <option>DPIB</option>
      <option>AK</option>
      <option>TKR</option>
    </select>

    <label>Kelas</label>
    <select id="kelas">
      <option>X</option>
      <option>XI</option>
      <option>XII</option>
    </select>

    <button onclick="loadSiswa()">Tampilkan Daftar Siswa</button>
  </section>

  <!-- TABEL ABSENSI -->
  <table id="tabel">
    <thead>
      <tr>
        <th>No</th>
        <th>Nama Siswa</th>
        <th>Status Kehadiran</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <button class="simpan" onclick="simpanAbsensi()">Simpan Absensi</button>
  <p id="info"></p>

  <hr>

  <!-- REKAP -->
  <section class="form">
    <h3>Rekap Absensi Per Kelas</h3>

    <label>Bulan</label>
    <input type="month" id="bulan">

    <label>Jurusan</label>
    <select id="rekapJurusan">
      <option>RPL</option>
      <option>DPIB</option>
      <option>AK</option>
      <option>TKR</option>
    </select>

    <label>Kelas</label>
    <select id="rekapKelas">
      <option>X</option>
      <option>XI</option>
      <option>XII</option>
    </select>

    <button onclick="tampilRekap()">Tampilkan Rekap</button>
  </section>

  <!-- TABEL REKAP -->
  <table id="rekapTable">
    <thead>
      <tr>
        <th>Nama Siswa</th>
        <th>Hadir</th>
        <th>Sakit</th>
        <th>Izin</th>
        <th>Alpha</th>
        <th>Bolos</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <hr>
<section class="form">
  <h3>Edit Absensi Harian</h3>

  <label>Tanggal</label>
  <input type="date" id="editTanggal">

  <label>Jurusan</label>
  <select id="editJurusan">
    <option>RPL</option>
    <option>DPIB</option>
    <option>AK</option>
    <option>TKR</option>
  </select>

  <label>Kelas</label>
  <select id="editKelas">
    <option>X</option>
    <option>XI</option>
    <option>XII</option>
  </select>

  <button onclick="loadEditAbsen()">Tampilkan Absensi</button>
</section>

<table id="editTable">
  <thead>
    <tr>
      <th>Nama</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<button onclick="simpanEditAbsen()">Simpan Perubahan</button>

</div>

<script src="script.js?v=2"></script>
<script>
  document.getElementById("tanggal").value =
    new Date().toISOString().slice(0,10);
</script>

</body>
</html>
